<template>
  <div class="transition-container">
    <div id="center-container" class="center-container">
      <toc tocTitle="Sketch å¹³æ»‘åœ†è§’ç»˜åˆ¶">
        <ul class="TableOfContents">
          <li>
            <p>
              <a href="javascript:void(0)" @click="goAnchor('#source-article')">åŸæ–‡</a>
            </p>
            <ul class="TableOfContents">
              <li>
                <p>
                  <a
                    href="javascript:void(0)"
                    @click="goAnchor('#the-squircle-smooth-operator')"
                  >å¹³æ»‘çš„ Squircle åœ†è§’</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#from-form-to-formula')">ä»å½¢å¼åˆ°å…¬å¼</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#a-spanner-in-the-works')">è®¡åˆ’æœ‰å˜</a>
                </p>
              </li>
            </ul>
          </li>
          <li>
            <p>
              <a href="javascript:void(0)" @click="goAnchor('#static_method')">åŠ¨æ€ç»˜åˆ¶</a>
            </p>
            <ul class="TableOfContents">
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#svg_morph')">iOS åœ†è§’çš„ç®—æ³•çª¥æ¢</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#avd_morph_android')">è¶…æ¤­åœ†è¿œéƒŠç®—æ³•</a>
                </p>
              </li>
              <li>
                <p>
                  <a
                    href="javascript:void(0)"
                    @click="goAnchor('#avd_morph_android')"
                  >Sketch åœ†è§’ç®—æ³•çš„æ¨ç†</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#avd_morph_android')">Web Demo</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#avd_morph_android')">Android å®ç°</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="javascript:void(0)" @click="goAnchor('#avd_morph_android')">é—®é¢˜</a>
                </p>
              </li>
            </ul>
          </li>
          <li>
            <p>
              <a href="javascript:void(0)" @click="goAnchor('#static_method')">èµ„æ–™å‚è€ƒ</a>
            </p>
          </li>
        </ul>
      </toc>
      <div id="article-view" class="article-view">
        <h1 id="toc_0">{{articleTitle}}</h1>
        <strong>
          <p>
            åŸæ–‡æ¥è‡ª
            <a
              href="https://www.figma.com/blog/desperately-seeking-squircles/"
              target="_blank"
            >Figma Blog</a>ã€‚åŒæ—¶ä¹ŸåŠ å…¥äº†æœ¬äººå¯¹ Figma å¹³æ»‘åœ†è§’çš„å®æ—¶å®ç°çš„æ¢ç´¢
          </p>
        </strong>
        <img
          class="hero-image"
          src="../static/images/figma_corners/background.jpg"
          alt="hero image"
        />
        <div class="css-1aecauc">
          <div id="source-article"></div>
          <p>
            <em>æœ¬æ–‡æ˜æ™°çš„å±•ç¤ºäº† Figma å·¥ç¨‹å¸ˆæ˜¯å¦‚ä½•é€šè¿‡ç¨‹åºæŒ‘æˆ˜ï¼Œå¯»æ‰¾æœ€å®Œç¾çš„é—®é¢˜è§£æ³•ã€‚</em>
          </p>

          <p>
            åœ¨ 1972 å¹´ï¼ŒCharles Eames ï¼ˆæŸ¥ç†ä¼Šå§†æ–¯ï¼‰åœ¨ä¸€æ¬¡è‘—åçš„è®¿è°ˆä¸­ï¼Œæ¢è®¨äº†
            <a
              href="https://www.hermanmiller.com/stories/why-magazine/design-q-and-a-charles-and-ray-eames/"
            >ã€Œå…³äºè®¾è®¡æœ¬è´¨çš„ä¸€äº›åŸºç¡€é—®é¢˜ã€</a>(è¯‘è€…æ³¨ï¼šFigma é“¾æ¥æŒ‚äº†ï¼Œè¿™é‡Œæ¢äº†ä¸€ä¸ª)ã€‚ è¿™äº›é—®é¢˜ä¸­çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼šã€Œä½ å¦‚ä½•å®šä¹‰è®¾è®¡ã€ï¼Ÿä»–çš„å›ç­”æ˜¯ã€Œä¸€ç§å°†å…ƒç´ æ’åˆ—ç»„åˆï¼Œä»¥è¾¾åˆ°ç‰¹æ®Šç›®çš„çš„è§„åˆ’æ‰‹æ®µã€ã€‚
          </p>
          <img src="../static/images/figma_corners/Eames01.jpg" />
          <caption>ä¼Šå§†æ–¯å¤«å¦‡</caption>
          <p>åœ¨åç»­çš„é—®é¢˜ä¸­ï¼Œä»–çš„å›ç­”éƒ½éå¸¸ç®€çŸ­ä¿çš®ã€‚ä½†å½“è°ˆè®ºåˆ°è®¾è®¡çš„é™åˆ¶æ—¶,ä»–å¼€å§‹æ·±æ€ç†Ÿè™‘ï¼Œä¸¥è‚ƒèµ·æ¥ï¼šã€Œè®¾è®¡çš„å…³é”®ç‚¹ä¹‹ä¸€ä¾¿æ˜¯ï¼šè®¾è®¡å¸ˆå¯¹äºè®¾è®¡çš„è¾¹ç¼˜å’Œè®¾è®¡çš„é™åˆ¶çš„äº†è§£ã€ç»éªŒå’Œè®¤çŸ¥ï¼›ä»¥åŠæœ‰äº†å¯¹è®¾è®¡é™åˆ¶çš„è®¤çŸ¥ä¹‹åï¼Œä»–æœ‰å¤šå°‘æ„æ„¿å’Œçƒ­æƒ…å»åœ¨é™åˆ¶å†…è¿›è¡Œè®¾è®¡ã€‚ã€</p>
          <p>å°½ç®¡æˆ‘ä¸æ˜¯ä¸€ä¸ªè®¾è®¡å¸ˆ â€”â€” æˆ‘æ˜¯ Figma çš„å·¥ç¨‹å¸ˆã€‚ç„¶è€Œ Eames çš„è¯„è®ºå¯¹æˆ‘çš„å·¥ä½œä¹Ÿéå¸¸æœ‰ä»·å€¼ã€‚æˆ‘ä¸æ˜¯æ’åˆ— UI å…ƒç´ ï¼Œè®¾è®¡äº§å“ï¼Œæˆ‘æ˜¯æ’åˆ—æ•°å­¦æ¦‚å¿µï¼Œå½¢æˆä»£ç è¡¨è¾¾å¼æ¥å®ç°å·¥å…·åŠŸèƒ½ã€‚æˆ‘å®ç°çš„ä»£ç åŒæ ·ä¹Ÿè¦è€ƒè™‘åˆ° æ—¶æ•ˆã€ç®€åŒ–æˆæœ¬ã€ç»´æŠ¤ã€ç¾å­¦ ç­‰æ–¹é¢çš„é™åˆ¶ã€‚</p>
          <p>æœ€è¿‘çš„ä¸€ä¸ªé¡¹ç›®éªŒè¯äº†ä¸Šé¢çš„è¿™äº›ç†è®ºã€‚æˆ‘çš„ä»»åŠ¡æ˜¯ç»™ Figma æ·»åŠ ä¸€ä¸ªç±»ä¼¼ Apple 'squircle' å¹³æ»‘åœ†è§’çš„åŠŸèƒ½æ”¯æŒã€‚ç„¶è€Œå¯¹æ­¤æˆ‘çš„äº†è§£ä¸å¤šï¼Œæˆ‘å¾—åšç‚¹è°ƒç ”ã€‚</p>
          <p>
            <strong>ç°åœ¨å›é¡¾èµ·æ¥ï¼Œè¿™ä¸ªé¡¹ç›®ç®€ç›´å°±æ˜¯æ•°å­¦å¥¥å¾·èµ›ï¼Œå¼€å§‹çš„å¤±è´¥ä»¤äººç„¦è™‘ï¼Œè¿‡ç¨‹ä¸­å‡ºç°äº†å¾ˆå¤šéšè—çš„é—®é¢˜å’Œæ–°çš„é™åˆ¶ï¼Œåœ¨å„ç§å‹åŠ›ä¸‹æ¢ç´¢å‡ºæœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆã€‚</strong>ç®€è€Œè¨€ä¹‹ï¼Œæ¯ä¸ªè®¾è®¡å¸ˆå‡ºæ–¹æ¡ˆçš„æ—¶å€™éƒ½æœ‰è¿‡è¿™ç§ä½“éªŒï¼ŒæŸç§æ„ä¹‰æ¥è¯´ï¼Œå¾ˆå¤šè®¾è®¡å¸ˆæ¯å¤©éƒ½è¿™æ ·ã€‚
          </p>
          <p>ä¸ºäº†è®©è·Ÿæˆ‘ä¸€æ ·çš„æ•°å­¦æå®¢èƒ½ä»è¿‡ç¨‹ä¸­è·å¾—ä¹è¶£ï¼Œä¹Ÿä¸ºäº†å±•ç¤ºæ•°å­¦æ˜¯å¦‚ä½•æˆä¸ºè§£å†³é—®é¢˜çš„åˆ©åˆƒï¼Œæˆ‘å°†æ•´ä¸ªè¿‡ç¨‹ä»é›¶å¼€å§‹åœ¨ä¸‹é¢å±•ç¤ºã€‚</p>
            <p>è¯‘è€…æ³¨ï¼šä¸ªäººè®¤ä¸ºäº†è§£è®¾è®¡é™åˆ¶åŒ…æ‹¬æ‰¿è½½è®¾è®¡çš„åª’ä»‹æ˜¯è®¾è®¡å¸ˆçš„é“å¾·ï¼Œèƒ½å¦å®¢è§‚è¯„ä¼°è‡ªå·±ä¹‹å‰çš„è®¾è®¡ç»éªŒåœ¨é™åˆ¶ä¸‹æ˜¯å¦æœ‰æ•ˆ æˆ– æ€æ ·å°†ä¹‹å‰çš„ç»éªŒè½¬æ¢ä¸ºé™åˆ¶ä¸‹çš„æˆæœæ˜¯è®¾è®¡å¸ˆçš„é‡è¦èƒ½åŠ›</p>
          <h2 id="the-squircle-smooth-operator" class="css-18dxkbz">å¹³æ»‘çš„ Squircle åœ†è§’</h2>
          <p>
            åœ¨æˆ‘è¿˜æ²¡åŠ å…¥ Figma ä¹‹å‰ï¼Œ2013 å¹´ 6 æœˆ 10 æ—¥ Apple å‘å¸ƒäº† iOS 7 ã€‚ å…¶ä¸­æœ‰ä¸€äº›æ”¹åŠ¨éå¸¸çš„ç²¾å·§ï¼šä¸»å±çš„å›¾æ ‡çœ‹èµ·æ¥æ›´åœ†æ¶¦ã€æœ‰æœºã€‚ä»–ä»¬ç§»é™¤äº†ç›´è§’åœ†è§’ï¼ŒåŠ å…¥äº†å¹³æ»‘åœ†è§’
            <em>squircles</em> (â€˜squareâ€™ å’Œ â€˜circleâ€™çš„æ··æˆè¯)ã€‚
          </p>
          <p>å·®å¼‚åœ¨å“ªå„¿ï¼Ÿè€å®è¯´ï¼Œå·®å¼‚éå¸¸å¾®å° â€”â€” å¹³æ»‘åœ†è§’ä»åŸæ¥ç›´è§’åœ†è§’å¼€å§‹çš„åœ°æ–¹å¼€å§‹å¼¯æ›²ï¼Œä½†æ˜¯æ•´ä¸ªæ›²é¢ä¸Šå»æ‰äº†ä¸€äº›éƒ¨åˆ†ï¼Œç›¸æ¯”ç›´è§’åœ†è§’æ¥è¯´ï¼Œä»ç›´è§’åˆ°å¼¯æ›²çš„éƒ¨åˆ†æ›´åŠ æŸ”é¡ºã€‚</p>
          <p>ä½¿ç”¨æ•°å­¦è¯­è¨€æ¥æè¿°ä¾¿æ˜¯ï¼šsquircle åœ†è§’çš„è¾¹ç¼˜æ›²ç‡æ˜¯è¿ç»­çš„ï¼Œè€Œç›´è§’åœ†è§’ä¸æ˜¯ã€‚è¿™çœ‹ä¼¼å¾®ä¸è¶³é“ï¼Œä½†è¿™ç§è®¾è®¡å°ç»†èŠ‚å´æœ‰å¾ˆå¤§çš„ä½“éªŒå½±å“ï¼šsquircle åœ†è§’æ²¡æœ‰ç›´è§’åœ†è§’é‚£ç§äººå·¥é›•ç¢ç—•è¿¹ï¼Œå®ƒçš„æ„Ÿè§‰å°±åƒæ²³åºŠä¸Šæ¡åˆ°çš„å› å†²åˆ·è€Œæˆå½¢çš„é¹…åµçŸ³ï¼Œçœ‹èµ·æ¥ç»Ÿä¸€ä¸”è‡ªç„¶ã€‚</p>
          <figure class="css-1fy50x0">
            <img class="small_img" src="../static/images/figma_corners/01.png" />
            <caption>1.1&#8202;â€”&#8202;ç›´è§’åœ†è§’ vs squircles åœ†è§’: çœ‹ä¸Šå»å·®è·ä¸å¤§ï¼</caption>
          </figure>
          <p>å·¥ä¸šè®¾è®¡å¸ˆå¾ˆäº†è§£æ›²ç‡å¯¹äºç‰©ä½“æ„Ÿå—çš„å½±å“ã€‚ä»”ç»†çœ‹çœ‹ä½ æ‰‹å¤´çš„ Macbook,æˆ–è€…çœ‹çœ‹è€ç‰ˆçš„ Apple æœ‰çº¿è€³æœºã€‚ ä½ å¯ä»¥çœ‹åˆ°å®ƒä»¬è¡¨é¢çš„é«˜å…‰æ˜¯éå¸¸é¡ºæ»‘çš„ã€‚</p>
          <p>è¿™æ˜¯è®¾è®¡ä¸­ä¸æ˜¾å±±æ¼æ°´çš„æ›²ç‡è¿ç»­å¯¼è‡´çš„ã€‚å¯¹äºè‹¹æœæ¥è¯´ï¼Œè½¯ç¡¬ç»“åˆï¼Œä»ç¡¬ä»¶åˆ°è½¯ä»¶ç•Œé¢ï¼Œå°†è®¾è®¡é£æ ¼ä¸€ç»Ÿï¼Œä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚</p>

          <p>è¯‘è€…æ³¨ï¼šè§å¾®çŸ¥è‘—ï¼Œæˆ‘ä»¬çš„ UI è®¾è®¡ æ­£åœ¨ä»ç²—æ”¾å‹è®¾è®¡åˆ°ç²¾ç»†å‹è®¾è®¡è½¬å˜ï¼ŒApple å¾€å¾€åœ¨å°å¤„æ¶µç›– è‡ªç„¶çš„ã€é€»è¾‘é€šé¡º çš„è®¾è®¡ç»†èŠ‚ï¼Œå…¶ä¸­åŒ…å«äº†å¾ˆå¤šæ•°å­¦ç†è®ºï¼Œå€¼å¾—æˆ‘ä»¬å­¦ä¹ ã€‚</p>
          <h2 id="from-form-to-formula" class="css-18dxkbz">ä»å½¢å¼åˆ°å…¬å¼</h2>
          <p>æˆ‘ä»¬ Figma çš„äººå½“ç„¶å–œæ¬¢ iOS çš„è®¾è®¡å¸ˆçš„è¿™äº›è®¾è®¡ã€‚æˆ‘ä»¬è¿˜è§‰å¾—æˆ‘ä»¬ Figma çš„ç”¨æˆ·ä¹Ÿéœ€è¦è¿™æ ·çš„åœ†è§’åŠŸèƒ½ã€‚ä¸ºäº†è®©ç”¨æˆ·åœ¨è®¾è®¡çš„æ—¶å€™èƒ½å¤Ÿä½¿ç”¨å¹³æ»‘åœ†è§’ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€ä¸ªç²¾ç¡®çš„æ•°å­¦æè¿°ä»¥ä¾¿å®ç°åŠŸèƒ½ã€‚</p>
          <p>
            å¹¸è¿çš„äº‹ï¼Œäººä»¬ä» iOS 7 å‘å¸ƒåå°±å¼€å§‹åœ¨ç½‘ç»œä¸Šæ¢è®¨ã€å’¨è¯¢è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è‚¯å®šä¸æ˜¯ç¬¬ä¸€ä¸ªåƒèƒèŸ¹çš„äººã€‚ Marc Edwards çš„
            <a
              href="https://www.cocoanetics.com/2013/06/ios-7-icon-squircle/"
            >Fundamental initial work</a> æ–‡ç« ä¸­åŒ…å«äº†ä¸€å¼ æˆªå›¾ï¼ŒæŒ‡å‡ºè¿™ä¸ªå½¢çŠ¶æ˜¯ä»æ¤­åœ†å…¬å¼æ¨å¯¼å‡ºæ¥çš„ï¼Œå› æ­¤å«ã€Œè¶…æ¤­åœ†ã€ã€‚ä¸‹é¢è¿™ä¸ªå…¬å¼å¯ä»¥æè¿° åœ†ã€æ¤­åœ†å’Œè¶…æ¤­åœ†ï¼Œå½¢çŠ¶å–å†³äº å˜é‡ a, b å’Œ n:
          </p>
          <figure class="css-1fy50x0">
            <img class="formula_img" src="../static/images/figma_corners/02.png" />
            <caption>2.1&#8202;â€”&#8202;è¶…æ¤­åœ†å…¬å¼</caption>
          </figure>
          <img class="small_img" src="../static/images/figma_corners/grapher_01.png" />
          <img class="small_img" src="../static/images/figma_corners/grapher_02.png" />
          <img class="small_img" src="../static/images/figma_corners/grapher_03.png" />
          <p>
            n = 2, a = 5 ,b = 3 çš„æ—¶å€™ï¼Œä½ ä¼šåœ¨æ ‡å‡†åæ ‡ç³»ä¸Šè·å¾—ä¸€ä¸ª åŠå¾„ x è½´ 5 æ ¼ï¼Œy è½´ 3 æ ¼ çš„æ¤­åœ†ã€‚n = 2 ï¼Œ a = b = 1 åˆ™æç»˜äº†ä¸€ä¸ªæ ‡å‡†çš„å•ä½åœ†ã€‚ç„¶è€Œï¼Œå¦‚æœ n > 2 çš„æ—¶å€™ï¼Œç»“æœå°±æ˜¯è¶…æ¤­åœ† â€”â€” æ¤­åœ†å½¢çŠ¶ä¸å›¾å½¢æœ¬èº«çš„æ–¹æ ¼è¾¹æ¡†è¿›è¡Œæ··åˆï¼Œ n è¶Šå¤§ï¼Œåœ†è§’å°±è¶Šæ¥è¶Šã€Œé”åˆ©ã€ï¼Œåœ¨ä¹‹å‰çš„ç½‘ä¸Šè®¨è®ºä¸­ï¼Œä¸€èˆ¬è®¤ä¸º Apple çš„åœ†è§’å½¢çŠ¶æ˜¯ n = 5 æ—¶å€™çš„å½¢çŠ¶ã€‚ å¦‚æœä½ 
            <a
              href="https://www.wolframalpha.com/input/?i=ParametricPlot%5B%7BSign%5BCos%5Bt%5D%5D+*+Abs%5BCos%5Bt%5D%5D+%5E+%282/5%29%2C+Sign%5BSin%5Bt%5D%5D+*+Abs%5BSin%5Bt%5D%5D+%5E+%282/5%29%7D%2C+%7Bt%2C+0%2C+2+*+Pi%7D%5D"
            >åŠ¨æ‰‹è¯•ä¸€è¯•</a>, ä½ ä¼šå‘ç°åœ†è§’å½¢çŠ¶è·Ÿ iOS 7 ç¡®å®å¾ˆåƒã€‚
          </p>
          <p>
            å¦‚æœè¿™æ˜¯çœŸçš„æ•°å­¦æè¿°ï¼Œé‚£æˆ‘ä»¬åªéœ€è¦æƒ³åŠæ³•ç”¨å‡ æ®µ Bezier è·Ÿåœ†è§’å¥‘åˆä¸Šï¼Œç„¶ååšç‚¹å·¥ç¨‹ä¸Šçš„äº‹å„¿ï¼ŒæŠŠåŠŸèƒ½æ•´åˆè¿› Figma å°±è¡Œäº†ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¸å¹¸çš„æ˜¯æœ‰äº›äººè®¤çœŸçš„è·Ÿè¿›äº†ä¹‹åï¼Œå‘ç° è¶…æ¤­åœ† å…¬å¼å®é™…ä¸Šä¸å®Œå…¨å¯¹ â€”â€”
            <a
              href="https://applypixels.com/the-hunt-for-the-squircle/"
            >The hunt for the squircle</a>  (ç„¶è€Œï¼Œåœ¨å‘ç°ä¹‹å‰ï¼Œ<em>å·²ç»</em>æœ‰å¾ˆå¤šäººä½¿ç”¨é‚£ä¸ªã€Œä¸å®Œå…¨å¯¹çš„å…¬å¼ã€
             åˆ°ç•Œé¢è·Ÿå›¾æ ‡ä¸Šäº†)ã€‚å®é™…ä¸Šï¼Œä¸Šè¾¹çš„å…¬å¼ä¸ç®¡æ€ä¹ˆè°ƒèŠ‚ nï¼Œéƒ½è·Ÿå®é™…çš„ iOS å›¾æ ‡å½¢çŠ¶æœ‰å¾®å°çš„å·®å¼‚ã€‚
          </p>
          <p>æˆ‘çš„æ¢ç´¢ç¬¬ä¸€æ¬¡è¿›åˆ°äº†æ­»è·¯ï¼šæˆ‘ä»¬æœ‰ä¼˜é›…ç®€å•çš„å…¬å¼ï¼Œçœ‹èµ·æ¥è·Ÿ iOS åœ†è§’ä¹Ÿå¾ˆåƒï¼Œä½†å…¶å®å…¬å¼å¹¶ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬æƒ³è¦ç»™ç”¨æˆ·æä¾›æœ€æ­£ç¡®çš„åŠŸèƒ½ï¼Œå› æ­¤è¿˜è¦ç»§ç»­æ¢ç´¢ã€‚</p>
          <p>
            æ—¢ç„¶ç ”ç©¶èµ°åˆ°äº†æ­»è·¯ï¼Œé¡¹ç›®æƒ³è¦ç»§ç»­è¿›å±•ä¾¿éœ€è¦åŠ å€çš„åŠªåŠ›ï¼Œä½†å¾ˆè£å¹¸åœ°ã€æˆ‘å†ä¸€æ¬¡ç«™åœ¨äº†åˆ«äººçš„è‚©è†€ä¸Šå¾—ä»¥ç»§ç»­æ¢ç´¢ã€‚  Juicy Bits çš„ Mike Swanson ï¼Œåšäº†ä¸€ä¸ªå‡æƒ³ï¼šé‚£å°±æ˜¯ squircle å¹³æ»‘åœ†è§’æ˜¯ä½¿ç”¨å‡ æ®µè´å¡å°”æ›²çº¿æ‹Ÿåˆçš„ã€‚
            <a
              href="https://web.archive.org/web/20180707042555/http://blog.mikeswanson.com/post/62341902567/unleashing-genetic-algorithms-on-the-ios-7-icon"
            >é—ä¼ ç®—æ³•æç‚¼ iOS åœ†è§’å…¬å¼</a> ï¼ˆè¯‘è€…æ³¨ï¼šç½‘ç«™åˆæŒ‚äº†ï¼Œweb archive å°†å°±ä¸‹å§ï¼‰ï¼Œä»–ä½¿ç”¨é—ä¼ ç®—æ³•æç‚¼äº† 484 æ¬¡ï¼Œå°†å½¢çŠ¶ä¼˜åŒ–çš„è·Ÿ Apple å®˜æ–¹åœ†è§’å½¢çŠ¶å·®ä¸å¤šäº†ã€‚ä»–å¾—å‡ºçš„è¿™ä¸ªè§‚ç‚¹éå¸¸çš„æ–°æ½®ï¼Œåç»­è·Ÿè¿›çš„ Manfred Schwind æ›´æ˜¯ç›´æ¥è´´å‡ºäº†
            <a
              href="https://www.mani.de/backstage/?p=483"
            >å®ç°</a>ã€‚æ•ˆæœçœ‹ä¸Šå»è·Ÿ iOS å›¾æ ‡æ²¡å·®ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸¤ç§ä¸åŒçš„å®ç°å¹³æ»‘åœ†è§’çš„è´å¡å°”æ–¹æ³•ï¼šåˆ«äººå·²ç»æå‡ºæ¥äº†,æˆ‘ä»¬å•¥ä¹Ÿä¸ç”¨å¹²äº†ï¼
          </p>
          <p>è¯‘è€…æ³¨ï¼šå¹³æ–¹å…¬å¼æ–¹æ³•è·Ÿä¸‰è§’å‡½æ•° 360 åº¦æ¨ç‚¹æ³•æœ‰æ€§èƒ½é—®é¢˜ï¼Œè¿™ä¸ªå¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œè´å¡å°”æ–¹æ³•æ˜¯ä¸€ä¸ªæ¯”è¾ƒä¸é”™çš„åŠ¨æ€ç»˜åˆ¶æ–¹æ¡ˆï¼Œè¿™é‡Œè¡¥å……ä¸€ä¸ªå…³äº iOS UIKit çš„å¹³æ»‘åœ†è§’å¿«é€Ÿå®ç° â€”â€” <a href="https://medium.com/fueled-engineering/continuous-rounded-corners-with-uikit-b575d50ab232">Continuous Rounded Corners with UIKit</a> <tool-tip tips="å…¶å®å°±æ˜¯ä½¿ç”¨ UIBezierPath åš mask path"></tool-tip></p>
          <h2 id="a-spanner-in-the-works" class="css-18dxkbz">
            è®¡åˆ’æœ‰å˜
          </h2>
          <p>åœ¨æˆ‘åŠ¨æ‰‹æ¬è¿ä»£ç åˆ° Figma ä¹‹å‰ï¼Œè¿˜æœ‰ä¸¤ä¸ªç»†èŠ‚ï¼Œéœ€è¦è€ƒè™‘ï¼š</p>
          <p>é¦–å…ˆï¼Œä¸Šé¢æåˆ°çš„ iOS ç‰ˆæœ¬çš„å…¬å¼åœ¨æˆ‘è°ƒç ”çš„æ—¶å€™å‘ç°äº†ä¸ªç‘•ç–µ â€”â€” åœ†è§’ä¸æ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚å…¶ä¸­ä¸€è¾¹æœ‰ä¸€å°æ®µæ˜¯ç›´çº¿ã€‚è¿™ä¸ªæ•ˆæœä¸æ˜¯ç‰¹åˆ«ä¼˜é›…ï¼Œè€Œä¸”å¯¹ä»£ç å®ç°å’Œæµ‹è¯•æ¥è¯´ä¼šå¯¼è‡´ä¸€äº›å¤æ‚é—®é¢˜ã€‚æ‰€ä»¥åªèƒ½åˆ æ‰æœ‰ç‘•ç–µçš„è¿™æ®µæ›²çº¿ï¼Œç„¶åæŠŠæ²¡æœ‰ç‘•ç–µçš„é‚£ä¸€åŠæ›²çº¿é•œåƒè¿‡æ¥ã€‚</p>
          <p>å…¶æ¬¡ï¼Œå½“ <a href="https://en.wikipedia.org/wiki/Flattening">flatten</a> å¢åŠ çœŸå®çš„ iOS åœ†è§’å½¢çŠ¶çš„åœ†è§’å€¼æ—¶ï¼Œåœ†è§’ä¼šçªç„¶çš„äº§ç”Ÿå˜åŒ–ã€‚å¯¹äºè®¾è®¡å¸ˆæ¥è¯´è¿™å¹¶ä¸å‹å¥½ â€”â€” å› ä¸ºä»è®¾è®¡å¸ˆçš„è§’åº¦æ¥è¯´ï¼Œå½¢çŠ¶åº”è¯¥æ˜¯å…·æœ‰è§„åˆ™çš„ã€‚</p>
                   <img class="small_img" src="../static/images/figma_corners/figma_01.jpg" />
          <p>å½“å¢åŠ åœ†è§’å½¢çŠ¶çš„åœ†è§’å¹…åº¦æ—¶ï¼Œæœ€è‡ªç„¶çš„å˜åŒ–é¢„æœŸåº”è¯¥æ˜¯ ä»åœ†åˆ°ç›´å¹³æ»‘çš„æ¸å˜ï¼Œç›´åˆ°å®Œå…¨æ²¡æœ‰ç›´çº¿ã€‚åœ†è§’å¹…åº¦è¶Šå¤§åˆ™å†…åˆ‡å½¢çŠ¶çš„åœ†çš„åŠå¾„è¶Šå° â€”â€” ç°åœ¨çš„ Figma å°±æ˜¯è¿™æ ·çš„ã€‚Apple çš„ squircle å…¬å¼ç›®å‰æ¥è¯´æ²¡å•¥å¸®åŠ©ï¼Œå› ä¸ºå®ƒçš„å¹³æ»‘æ•ˆæœæ˜¯å›ºå®šæŸä¸ªåœ†åº¦çš„ï¼šæ²¡åŠæ³•æç‚¼å‡ºåœ†åº¦æ›´å¤§æˆ–è€…æ›´å°æ—¶çš„ç»“æœã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€å¥—å¯ä»¥<b>åŠ¨æ€è°ƒå‚</b>çš„å¹³æ»‘æ–¹æ¡ˆï¼Œç„¶åè®©å…¶ä¸­çš„æŸä¸ªå‚æ•°è·Ÿè‹¹æœçš„åœ†è§’æ–¹æ¡ˆä¸€è‡´ã€‚

          </p>
          <p>è¿™æ ·åšçš„é™„åŠ å¥½å¤„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬èƒ½åŠ¨æ€è°ƒèŠ‚å½¢çŠ¶ä» çŸ©å½¢ åˆ° åœ†è§’çŸ©å½¢çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆ Figma ä¸­å…¶ä»–å½¢çŠ¶çš„è§’ä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„æ–¹æ¡ˆæ¥å¢åŠ åœ†åº¦ï¼šæ˜Ÿæ€§ã€å¤šè¾¹å½¢ï¼Œç”šè‡³æ˜¯éšæœºçš„é’¢ç¬”å·¥å…·å½¢çŠ¶ã€‚å› æ­¤ç›¸æ¯”äºç®€å•å¤åˆ» iOS çš„åœ†è§’ï¼Œåˆ¶ä½œä¸€ä¸ªåŠ¨æ€å¯è°ƒå‚çš„åœ†è§’æ–¹æ¡ˆæ›´æœ‰ä»·å€¼ï¼ŒåŠŸèƒ½ä¸Šä¹Ÿæ›´å®Œæ•´ã€‚æˆ‘ä»¬çš„å·¥å…·è¦èƒ½å¤Ÿç»™äºˆè®¾è®¡å¸ˆä¸åŒå½¢çŠ¶ç»˜åˆ¶èƒ½åŠ›çš„æ”¯æŒï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬å¹³æ»‘åœ†è§’çš„æ”¯æŒã€‚</p>
          <p>å¦‚æœæ˜¯è¦æŒ‰å¯è°ƒå‚çš„æ–¹æ¡ˆæ¥åšï¼Œè®©å‚æ•°èŒƒå›´ä¸­çš„æŸä¸ªå‚æ•°å€¼æ‰€å‘ˆç°çš„åœ†è§’åˆšå¥½è·Ÿ iOS 7 çš„å½¢çŠ¶å¥‘åˆï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„é™åˆ¶ç‚¹æ¥äº† â€”â€” è°ƒå‚èŒƒå›´æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªèŒƒå›´éå¸¸éš¾å»å®šä¹‰ã€‚çœ‹æ¥éœ€è¦ä¸€äº›æ•°å­¦è®¡ç®—äº†ã€‚</p>
          <h2 id="power-tools-differential-geometry-of-plane-curves" class="css-18dxkbz">
            <a
              href="#power-tools-differential-geometry-of-plane-curves"
              class="css-1bs7qd7"
            >Power tools: Differential geometry of plane curves</a>
          </h2>
          <p>
            Before diving into parameterizing squircles, letâ€™s take a step back and dust off some formal tools that will help us analyze whatâ€™s going on. First of all, we need to settle on
            <em>how</em> weâ€™ll describe a squircle. When discussing superellipses before, we used an equation involving x and y, where all the points (x, y) in the plane which satisfy the equation implicitly trace out the superellipse. This is elegant when the equation is simple, but real squircles are a patchwork of BÃ©zier curves spliced together, which leads to unmanageably messy implicit equations.
          </p>
          <p>We can deal with this complication by using a more explicit approach: take a single variable t, restrict it to a finite interval, and map each value which t can take on that interval to a distinct point on the squircle perimeter (BÃ©zier curves themselves are almost always represented this way, in fact). If we concentrate on just one of the corners, thereby restricting our analysis to a curved line with a clear beginning and end, we can choose the mapping between t and the corner such that t = 0 corresponds to the beginning of the line, t = 1 corresponds to the end of the line, and smoothly sliding t between 0 to 1 smoothly traces out the round part of the corner. In mathematical language, we will describe our corner by the path r(t), which is structured as</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/3ZE02wZUsUGA264O0s4i0U/bbe46750592152166ff96ee22347616d/squircles_3.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/3ZE02wZUsUGA264O0s4i0U/bbe46750592152166ff96ee22347616d/squircles_3.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/3ZE02wZUsUGA264O0s4i0U/bbe46750592152166ff96ee22347616d/squircles_3.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/3ZE02wZUsUGA264O0s4i0U/bbe46750592152166ff96ee22347616d/squircles_3.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/3ZE02wZUsUGA264O0s4i0U/bbe46750592152166ff96ee22347616d/squircles_3.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/3ZE02wZUsUGA264O0s4i0U/bbe46750592152166ff96ee22347616d/squircles_3.png?w=736"
              alt="squircles 3"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>4.1&#8202;â€”&#8202;Plane curve bijection with [0,1]</figcaption>
          </figure>
          <p>where x(t) and y(t) are separate functions of t for the x and y components of r. We can think of r(t) as a kind of path history, say for a trip youâ€™d take in your car. At every time t between when you begin and when you arrive, you can evaluate r(t) to get your carâ€™s position along your route. From the path r(t) we can differentiate to get the velocity v(t) and acceleration a(t):</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/6IqgWQTmk8S2csU0g22oEw/9c5000a66cbeba5400a22b0d6d4b69da/squircles_4.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/6IqgWQTmk8S2csU0g22oEw/9c5000a66cbeba5400a22b0d6d4b69da/squircles_4.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/6IqgWQTmk8S2csU0g22oEw/9c5000a66cbeba5400a22b0d6d4b69da/squircles_4.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/6IqgWQTmk8S2csU0g22oEw/9c5000a66cbeba5400a22b0d6d4b69da/squircles_4.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/6IqgWQTmk8S2csU0g22oEw/9c5000a66cbeba5400a22b0d6d4b69da/squircles_4.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/6IqgWQTmk8S2csU0g22oEw/9c5000a66cbeba5400a22b0d6d4b69da/squircles_4.png?w=736"
              alt="squircles 4"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>4.2&#8202;â€”&#8202;Plane curve velocity and acceleration</figcaption>
          </figure>
          <p>Finally, the mathematical curvature, which plays a starring role in our story, can in turn be expressed in terms of the velocity and acceleration:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/2FGI0JGU2ku2aoMuioK4Ca/6169e682e804e246f67b08618a29e43e/squircles_5.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/2FGI0JGU2ku2aoMuioK4Ca/6169e682e804e246f67b08618a29e43e/squircles_5.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/2FGI0JGU2ku2aoMuioK4Ca/6169e682e804e246f67b08618a29e43e/squircles_5.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/2FGI0JGU2ku2aoMuioK4Ca/6169e682e804e246f67b08618a29e43e/squircles_5.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/2FGI0JGU2ku2aoMuioK4Ca/6169e682e804e246f67b08618a29e43e/squircles_5.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/2FGI0JGU2ku2aoMuioK4Ca/6169e682e804e246f67b08618a29e43e/squircles_5.png?w=736"
              alt="squircles 5"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>4.3&#8202;â€”&#8202;Unsigned curvature of plane curves</figcaption>
          </figure>
          <p>But what does this formula really mean? Though it may look a bit complicated, curvature has a straightforward geometric construction, originally due to Cauchy:</p>
          <ol start="1" class="css-oqx1ti">
            <li>
              The center of curvature C at any point P along the curve lies at the intersection of the line normal to the curve at P and another normal line taken infinitesimally close to P. (As a side note, the circle centered at C as constructed above is called the
              <em>osculating circle</em> at P, from the Latin verb
              <em>osculare</em>, meaning â€˜to kissâ€™. ğŸ˜™ Isnâ€™t that great?)
            </li>
            <li>The radius of curvature R is the distance between C and P.</li>
            <li>The curvature Îº is the inverse of R.</li>
          </ol>
          <p>As constructed above, the curvature Îº is nonnegative and doesnâ€™t distinguish between rightward and leftward turns. Since we do care about this, we form the signed curvature k from Îº by assigning a positive sign if the path is turning right, and a negative sign if the path is turning left. This concept too has an analogue in the car picture: at any point t, the signed curvature k(t) is just the angle through which the steering wheel has been turned at time t, with plus signs used for turns to the right and minus signs for turns to the left.</p>
          <h2 id="geometry-is-king-arc-length-parametrization" class="css-18dxkbz">
            <a
              href="#geometry-is-king-arc-length-parametrization"
              class="css-1bs7qd7"
            >Geometry is king: Arc length parametrization</a>
          </h2>
          <p>
            With curvature introduced, we have a last couple wrinkles to iron out. First, consider for a moment two cars driving along a squircle corner shaped route; one car keeps speeding up and then braking the entire way (ğŸ¤¢), while the other car smoothly speeds up then coasts down to a halt at the end. These two different ways of driving will yield very different path histories even though the exact same route was taken. We only care about the shape of the corner, not how any one driver negotiated it&#8202;â€”&#8202;so how can we separate the two? The key is to use not time to label the points in the history, but rather the cumulative distance traveled, or arc length. So instead of answering questions like â€˜where was the car ten minutes into its trip?â€™, weâ€™d rather answer â€˜where was the car ten
            <em>miles</em> into its trip?â€™. This way of describing paths, the arc length parameterization, captures their geometry alone.
          </p>
          <p>If we have some path history r(t) in hand, we can always extract the arc length s as a function of t from the path by integrating its speed, as follows:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/5Lv7b9Xn1eOkImUgaS8smK/d14bddd7d234f287c2d3cdad345ad3f5/squircles_6.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/5Lv7b9Xn1eOkImUgaS8smK/d14bddd7d234f287c2d3cdad345ad3f5/squircles_6.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/5Lv7b9Xn1eOkImUgaS8smK/d14bddd7d234f287c2d3cdad345ad3f5/squircles_6.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/5Lv7b9Xn1eOkImUgaS8smK/d14bddd7d234f287c2d3cdad345ad3f5/squircles_6.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/5Lv7b9Xn1eOkImUgaS8smK/d14bddd7d234f287c2d3cdad345ad3f5/squircles_6.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/5Lv7b9Xn1eOkImUgaS8smK/d14bddd7d234f287c2d3cdad345ad3f5/squircles_6.png?w=736"
              alt="squircles 6"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>5.1&#8202;â€”&#8202;Arc length integral</figcaption>
          </figure>
          <p>If we can invert this relationship to find t(s), then we can substitute this for t in our path history r(t) to get the desired arc length parameterization r(s). The arc length parameterization of a path is equivalent to a path history made by a car driving at unit speed, so unsurprisingly the velocity v(s) is always a unit vector, and the acceleration a(s) is always perpendicular to the velocity. Consequently, the arc length parameterized version of curvature simplifies to just the magnitude of acceleration,</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/7en7Dd302WoMsiWWYeWG2c/2d454ce1b215a8ee631aa067fda0f9f6/squircles_7.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/7en7Dd302WoMsiWWYeWG2c/2d454ce1b215a8ee631aa067fda0f9f6/squircles_7.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/7en7Dd302WoMsiWWYeWG2c/2d454ce1b215a8ee631aa067fda0f9f6/squircles_7.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/7en7Dd302WoMsiWWYeWG2c/2d454ce1b215a8ee631aa067fda0f9f6/squircles_7.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/7en7Dd302WoMsiWWYeWG2c/2d454ce1b215a8ee631aa067fda0f9f6/squircles_7.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/7en7Dd302WoMsiWWYeWG2c/2d454ce1b215a8ee631aa067fda0f9f6/squircles_7.png?w=736"
              alt="squircles 7"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>5.2&#8202;â€”&#8202;Curvature in the arc-length parametrization</figcaption>
          </figure>
          <p>and we can tack on the appropriate right or left handed sign to form the signed curvature k(s). Most of the complication in the more general curvature definition was evidently there just to cancel out the non-geometric content in the path history. Curvature is, after all, a purely geometric quantity, so itâ€™s really pleasing to see it look simple in the geometric parameterization.</p>
          <h2 id="design-the-curvature-compute-the-curve" class="css-18dxkbz">
            <a
              href="#design-the-curvature-compute-the-curve"
              class="css-1bs7qd7"
            >Design the curvature, compute the curve</a>
          </h2>
          <p>Now for the other wrinkle: weâ€™ve just seen how to go from a path-history description of a curve r(t) to its arc length parameterization r(s), and how to extract the signed curvature k(s) from it. But can we do the reverse? Can we design a curvature profile and from it derive the parent curve? Letâ€™s consider the car analogy again&#8202;â€”&#8202;suppose that as we were driving at constant unit speed along a route, we recorded the position of the steering wheel continuously throughout the journey. If we took that steering data and gave it later to another driver, theyâ€™d be able to reconstruct the route perfectly, so long as they played back the steering wheel positions properly and drove exactly the same speed. So we see intuitively that we have enough information to reconstruct the parent curve, but how does the computation look mathematically? Itâ€™s a little bit hairy, but itâ€™s still possible, thanks to Euler, using the arc length parameterization&#8202;â€”&#8202;if we choose a coordinate system such that the curve starts at the origin and has its initial heading directed along the x axis, then x(s) and y(s) can be reconstructed from k(s) as follows:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/63uDAdyprOMqC0GAGoe6QW/6d52d5b7b36d94faf7a1906b756486bb/squircles_8.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/63uDAdyprOMqC0GAGoe6QW/6d52d5b7b36d94faf7a1906b756486bb/squircles_8.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/63uDAdyprOMqC0GAGoe6QW/6d52d5b7b36d94faf7a1906b756486bb/squircles_8.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/63uDAdyprOMqC0GAGoe6QW/6d52d5b7b36d94faf7a1906b756486bb/squircles_8.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/63uDAdyprOMqC0GAGoe6QW/6d52d5b7b36d94faf7a1906b756486bb/squircles_8.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/63uDAdyprOMqC0GAGoe6QW/6d52d5b7b36d94faf7a1906b756486bb/squircles_8.png?w=736"
              alt="squircles 8"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>6.1&#8202;â€”&#8202;Recovering a curve from its curvature</figcaption>
          </figure>
          <br />
          <p>Last, note the argument of the sine and cosine functions above: it is the integral of the signed curvature. Normally, the arguments supplied to trigonometric functions are angles measured in radians, and that turns out to be true in this case as well: the integral from a to b of the signed curvature is the heading at b minus the heading at a. Thus, if we start with a square and sand off the corner in whatever crazy way we want, then measure the curvature over the part we sanded and integrate up the result, weâ€™ll always get Ï€/2.</p>
          <h2 id="squircles-under-the-scalpel" class="css-18dxkbz">
            <a href="#squircles-under-the-scalpel" class="css-1bs7qd7">Squircles under the scalpel</a>
          </h2>
          <p>Now that we are wrinkle-free, letâ€™s see what happens when we apply these analytical tools to some real shapes. Weâ€™ll start with a corner of a rounded rectangle which has a corner radius of one, plotting first the corner itself and then the curvature as a function of arc length:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/533aeh5Jheggauskkk0Wm2/74d4aa3a138419323c62b48058522ae7/squircles_9.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/533aeh5Jheggauskkk0Wm2/74d4aa3a138419323c62b48058522ae7/squircles_9.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/533aeh5Jheggauskkk0Wm2/74d4aa3a138419323c62b48058522ae7/squircles_9.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/533aeh5Jheggauskkk0Wm2/74d4aa3a138419323c62b48058522ae7/squircles_9.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/533aeh5Jheggauskkk0Wm2/74d4aa3a138419323c62b48058522ae7/squircles_9.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/533aeh5Jheggauskkk0Wm2/74d4aa3a138419323c62b48058522ae7/squircles_9.png?w=736"
              alt="squircles 9"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>7.1&#8202;â€”&#8202;Rounded rectangle curvature analysis</figcaption>
          </figure>
          <p>We repeat this process now for the real Apple squircle corners to look at their curvatures, which is very different and very enlightening:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/1iw2WdinDS8YWe440KYq60/c35dfd6bd406f11c1ff073bfe16aa711/squircles_10.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/1iw2WdinDS8YWe440KYq60/c35dfd6bd406f11c1ff073bfe16aa711/squircles_10.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/1iw2WdinDS8YWe440KYq60/c35dfd6bd406f11c1ff073bfe16aa711/squircles_10.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/1iw2WdinDS8YWe440KYq60/c35dfd6bd406f11c1ff073bfe16aa711/squircles_10.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/1iw2WdinDS8YWe440KYq60/c35dfd6bd406f11c1ff073bfe16aa711/squircles_10.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/1iw2WdinDS8YWe440KYq60/c35dfd6bd406f11c1ff073bfe16aa711/squircles_10.png?w=736"
              alt="squircles 10"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>7.2&#8202;â€”&#8202;iOS 7 squircle curvature analysis</figcaption>
          </figure>
          <p>The curvature looks quite jagged, but this is not necessarily bad. As weâ€™ll see later, thereâ€™s a tradeoff between having a smooth curvature plot and having a small number of BÃ©zier curves, and the iOS corner only uses three. Generally, designers would rather deal with fewer BÃ©zier curves at the expense of having a mathematically perfect curvature profile. These details aside, we can kind of squint at the plot on the right and see a general picture emerge: the curvature ramps up, flattens in the middle, and then ramps back down.</p>
          <h2 id="breakthrough-smoothing-parameterized" class="css-18dxkbz">
            <a
              href="#breakthrough-smoothing-parameterized"
              class="css-1bs7qd7"
            >Breakthrough: Smoothing parameterized</a>
          </h2>
          <p>Bingo! In that last observation lies the key to how we can parameterize the smoothing of our squircle corner. At zero smoothing, we want a curvature profile like the rounded rectangle: tabletop shaped. As smoothing slowly increases, we want the height of the tabletop to stay fixed while its cliff edges start turning into steep slopes, yielding an isosceles trapezoidal curvature profile (still with a total area of Ï€/2, of course). As smoothing approaches its maximum, we want the flat part of the trapezoid to disappear, leaving us with a broad isosceles triangular profile whose peak height is that of the original tabletop.</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/3KPOuAFAYg66yeS44WwUsS/cc290cade7838c1d1cfb79db571bd13b/squircles_11.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/3KPOuAFAYg66yeS44WwUsS/cc290cade7838c1d1cfb79db571bd13b/squircles_11.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/3KPOuAFAYg66yeS44WwUsS/cc290cade7838c1d1cfb79db571bd13b/squircles_11.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/3KPOuAFAYg66yeS44WwUsS/cc290cade7838c1d1cfb79db571bd13b/squircles_11.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/3KPOuAFAYg66yeS44WwUsS/cc290cade7838c1d1cfb79db571bd13b/squircles_11.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/3KPOuAFAYg66yeS44WwUsS/cc290cade7838c1d1cfb79db571bd13b/squircles_11.png?w=736"
              alt="squircles 11"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>8.1&#8202;â€”&#8202;Curvature profiles for various values of the smoothing parameter</figcaption>
          </figure>
          <p>Letâ€™s try to express this sketch of a curvature profile in mathematical terms, using Î¾ as a smoothing parameter which varies between zero and one. Foreseeing use with other shapes whose corners arenâ€™t right angles, we also introduce the angle Î¸ which is the turning angle of the corner&#8202;â€”&#8202;Ï€/2 in the case of squares. Putting both together, we can define a piecewise function in three parts, one for the ramp up, one for the flat top, and one for the ramp down:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/11ZKQdRz4GIguQE2cOkIKy/37e717038363439a40978b0d118ccd3b/squircles_12.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/11ZKQdRz4GIguQE2cOkIKy/37e717038363439a40978b0d118ccd3b/squircles_12.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/11ZKQdRz4GIguQE2cOkIKy/37e717038363439a40978b0d118ccd3b/squircles_12.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/11ZKQdRz4GIguQE2cOkIKy/37e717038363439a40978b0d118ccd3b/squircles_12.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/11ZKQdRz4GIguQE2cOkIKy/37e717038363439a40978b0d118ccd3b/squircles_12.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/11ZKQdRz4GIguQE2cOkIKy/37e717038363439a40978b0d118ccd3b/squircles_12.png?w=736"
              alt="squircles 12"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>8.2&#8202;â€”&#8202;Squircle curvature profile parameterization</figcaption>
          </figure>
          <p>Notice that the first and third pieces (the ramps) disappear as Î¾ tends to zero, and that the middle piece (the flat top) disappears as Î¾ tends to one. We showed above how we can go from a curvature profile to a parent curve, so letâ€™s try it out on the first equation above, which describes a line whose curvature starts at zero and steadily increases as we walk along it. Weâ€™ll do the easy interior integral first:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/1CLDwJCUxuQc6I4oeQ0uOm/cf6b51213a18db8502a42a0c4ed65839/squircles_13.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/1CLDwJCUxuQc6I4oeQ0uOm/cf6b51213a18db8502a42a0c4ed65839/squircles_13.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/1CLDwJCUxuQc6I4oeQ0uOm/cf6b51213a18db8502a42a0c4ed65839/squircles_13.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/1CLDwJCUxuQc6I4oeQ0uOm/cf6b51213a18db8502a42a0c4ed65839/squircles_13.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/1CLDwJCUxuQc6I4oeQ0uOm/cf6b51213a18db8502a42a0c4ed65839/squircles_13.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/1CLDwJCUxuQc6I4oeQ0uOm/cf6b51213a18db8502a42a0c4ed65839/squircles_13.png?w=736"
              alt="squircles 13"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>8.3&#8202;â€”&#8202;First integral of 6.1 as applied to equations 8.2</figcaption>
          </figure>
          <p>Great, so far so good! We can keep chugging along to form the next couple of integrals:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/6uJKRiuqLmCY6McU2G28U4/fb2bea31832257a92dc2bfea7fc4c125/squircles_14.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/6uJKRiuqLmCY6McU2G28U4/fb2bea31832257a92dc2bfea7fc4c125/squircles_14.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/6uJKRiuqLmCY6McU2G28U4/fb2bea31832257a92dc2bfea7fc4c125/squircles_14.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/6uJKRiuqLmCY6McU2G28U4/fb2bea31832257a92dc2bfea7fc4c125/squircles_14.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/6uJKRiuqLmCY6McU2G28U4/fb2bea31832257a92dc2bfea7fc4c125/squircles_14.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/6uJKRiuqLmCY6McU2G28U4/fb2bea31832257a92dc2bfea7fc4c125/squircles_14.png?w=736"
              alt="squircles 14"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>8.4&#8202;â€”&#8202;Second integral of 6.1 as applied to equations 8.2 (Fresnel integral)</figcaption>
          </figure>
          <p>
            Alas, here we hit a bump, as these integrals arenâ€™t quite as easy. If you have heard about the connection between trigonometric functions and exponentials, you might guess that these integrals are related to the error function, which canâ€™t be expressed in terms of elementary functions. The same is true of these integrals. So what do we do? It is beyond the scope of this post to justify (see
            <a
              href="https://math.stackexchange.com/questions/83721/when-can-a-sum-and-integral-be-interchanged"
            >this math exchange post</a> for a clue as to how you would), but in this case we can substitute in the Taylor expansions for sine and cosine, then swap the sum and the integral to obtain:
          </p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/4dSlcqfh4s4WO8ukM2s4ue/86f419eaf04d8339b08b6a5d15fcfaf6/squircles_15.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/4dSlcqfh4s4WO8ukM2s4ue/86f419eaf04d8339b08b6a5d15fcfaf6/squircles_15.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/4dSlcqfh4s4WO8ukM2s4ue/86f419eaf04d8339b08b6a5d15fcfaf6/squircles_15.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/4dSlcqfh4s4WO8ukM2s4ue/86f419eaf04d8339b08b6a5d15fcfaf6/squircles_15.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/4dSlcqfh4s4WO8ukM2s4ue/86f419eaf04d8339b08b6a5d15fcfaf6/squircles_15.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/4dSlcqfh4s4WO8ukM2s4ue/86f419eaf04d8339b08b6a5d15fcfaf6/squircles_15.png?w=736"
              alt="squircles 15"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>8.5&#8202;â€”&#8202;Fresnel integral series expansions</figcaption>
          </figure>
          <p>This looks nigh-impenetrable in its series form, so letâ€™s take a step further and explicitly write out the first few terms in each series with all simplifying multiplication performed. This delivers the following few terms for the x and y parts of the shape:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/5yva6JQaSQei4UUC0IgkAU/476d0211289aa065e47a7dcbabde9d84/squircles_16.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/5yva6JQaSQei4UUC0IgkAU/476d0211289aa065e47a7dcbabde9d84/squircles_16.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/5yva6JQaSQei4UUC0IgkAU/476d0211289aa065e47a7dcbabde9d84/squircles_16.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/5yva6JQaSQei4UUC0IgkAU/476d0211289aa065e47a7dcbabde9d84/squircles_16.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/5yva6JQaSQei4UUC0IgkAU/476d0211289aa065e47a7dcbabde9d84/squircles_16.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/5yva6JQaSQei4UUC0IgkAU/476d0211289aa065e47a7dcbabde9d84/squircles_16.png?w=736"
              alt="squircles 16"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>8.6&#8202;â€”&#8202;Explicit low-order (n &lt; 3) parts of 8.3</figcaption>
          </figure>
          <h2 id="apotheosis-clothoid" class="css-18dxkbz">
            <a href="#apotheosis-clothoid" class="css-1bs7qd7">Apotheosis clothoid</a>
          </h2>
          <p>This is a concrete result! We can actually plot this pair of equations (given some reasonable choices for Î¾, Î¸ and R) to get a path as a function of s. If we had access to arbitrarily many terms and could compute the sums, weâ€™d see that as s increases, the curve begins to spiral in on itself, though this happens far from the domain weâ€™re interested in, which is the flatter ramp-up section.</p>
          <p>Echoing a sentiment from an earlier point in the post, weâ€™re not the first to tread here, either. Owing to its linear curvature, which is very useful, many have stumbled on this curve in the past&#8202;â€”&#8202;it is known as an Euler spiral, cornu, or a clothoid, and it finds a lot of use in designing tracks for vehicles, including roads and roller-coasters.</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/6ZIk5tntV6cmuCkSoKUUuS/3753ef6b9b67e5f89fd79f339a471d49/squircles_17.gif?w=368 368w, //images.ctfassets.net/1khq4uysbvty/6ZIk5tntV6cmuCkSoKUUuS/3753ef6b9b67e5f89fd79f339a471d49/squircles_17.gif?w=491 491w, //images.ctfassets.net/1khq4uysbvty/6ZIk5tntV6cmuCkSoKUUuS/3753ef6b9b67e5f89fd79f339a471d49/squircles_17.gif?w=736 736w"
              src="//images.ctfassets.net/1khq4uysbvty/6ZIk5tntV6cmuCkSoKUUuS/3753ef6b9b67e5f89fd79f339a471d49/squircles_17.gif?w=736"
              alt="squircles 17"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>9.1&#8202;â€”&#8202;Clothoid spiral up to s = 5</figcaption>
          </figure>
          <p>Using the just the n &lt; 10 part of the expansion as given in 8.5, we finally have all the pieces necessary to make our first artifact. The expansion represents the sloping (first) part of equation 8.2&#8202;â€”&#8202;itâ€™s easy to adapt it to the falling (third) part, and weâ€™ll bridge these sloping portions with a circular arc for the flat (second) part. This method delivers a mathematically perfect squircle corner that exactly follows the curvature design we first introduced in equations 8.2. Here is the curvature analysis performed for a clothoid squircle corner with Î¾ = 0.4:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/2iuNpUaBEAOkSeMOo046ku/9c4188a46b5334ed3443199020451e57/squircles_18.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/2iuNpUaBEAOkSeMOo046ku/9c4188a46b5334ed3443199020451e57/squircles_18.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/2iuNpUaBEAOkSeMOo046ku/9c4188a46b5334ed3443199020451e57/squircles_18.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/2iuNpUaBEAOkSeMOo046ku/9c4188a46b5334ed3443199020451e57/squircles_18.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/2iuNpUaBEAOkSeMOo046ku/9c4188a46b5334ed3443199020451e57/squircles_18.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/2iuNpUaBEAOkSeMOo046ku/9c4188a46b5334ed3443199020451e57/squircles_18.png?w=736"
              alt="squircles 18"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>9.2&#8202;â€”&#8202;Squircle corner at Î¾ = 0.4 using ninth-order clothoids and circular arcs</figcaption>
          </figure>
          <p>Though it feels good to have obtained this elegant shape, we must realize this is only an ideal version. This exact shape wonâ€™t work for several reasons, first among which is the fact that the center of curvature of the circular portion moves as a function of the smoothing parameter Î¾&#8202;â€”&#8202;ideally, it would remain fixed.</p>
          <p>More importantly, the power of the arc length s in the terms weâ€™ve kept to produce the plots can be as high as nine. In Figma, continuous paths must be representable by cubic BÃ©zier curves (of which quadratic BÃ©zier curves and lines are special cases) and this limits us to keeping only cubic and lower order terms. This means that the series above for x(s) and y(s) must each be truncated to a single term. Itâ€™s hard to have much confidence that such a drastic truncation will retain the properties we like.</p>
          <p>Sadly, discarding higher-order terms is not sufficient&#8202;â€”&#8202;the resulting construction performs very poorly when Î¾ is large. We can see this below in the figure drawn for Î¾ = 0.9:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/4IPrr77TYQq6ysoEEkSmWI/4a29a88284e3450586123745dc66f405/squircles_19.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/4IPrr77TYQq6ysoEEkSmWI/4a29a88284e3450586123745dc66f405/squircles_19.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/4IPrr77TYQq6ysoEEkSmWI/4a29a88284e3450586123745dc66f405/squircles_19.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/4IPrr77TYQq6ysoEEkSmWI/4a29a88284e3450586123745dc66f405/squircles_19.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/4IPrr77TYQq6ysoEEkSmWI/4a29a88284e3450586123745dc66f405/squircles_19.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/4IPrr77TYQq6ysoEEkSmWI/4a29a88284e3450586123745dc66f405/squircles_19.png?w=736"
              alt="squircles 19"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>9.3 â€” Squircle corner at Î¾ = 0.9 using third-order clothoids and circular arcs</figcaption>
          </figure>
          <p>This shape is clearly unusable. It seems three orders isnâ€™t enough to keep the curvature increasing throughout the ramp up and ramp down sections of the parameterization, meaning that we have a ton of accumulated error by the time we get to the circular section. Sadly, this means that all of our clothoid results are unusable, and we have to go back to the drawing board.</p>
          <h2 id="nothing-gold-can-stay" class="css-18dxkbz">
            <a href="#nothing-gold-can-stay" class="css-1bs7qd7">Nothing gold can stay</a>
          </h2>
          <p>Letâ€™s take a step back, consider our constraints again, and try to extract what we can from the previous efforts before heading off in a new direction.</p>
          <p>First, we know that the perfect clothoid construction has exactly the curvature profile we need, but the center of curvature of the central circular section changes location as a function of the smoothing parameter Î¾. This is undesirable because our current on-canvas rectangle rounding UI uses a dot right at the center of curvature which a user can drag to set the corner radius. It might feel a bit weird if that dot moved as the smoothing varied. Also, the iOS shapeâ€™s central section is right where it would be if it were just a rounded rectangle, further implying total independence of the centerâ€™s location from Î¾. So we can keep the same basic curvature design goal and add the constraint that the circular section keep a fixed center of curvature as Î¾ varies.</p>
          <p>Second, we know that designers donâ€™t want the construction of the squircle corner to be too complicated. Appleâ€™s squircle (after removing the weird tiny straight part) has only one BÃ©zier curve connecting its circular section to the incoming edge, so maybe we can construct the same type of thing?</p>
          <p>Thirdly, we have a somewhat arcane technical constraint which isnâ€™t apparent at the outset, but that becomes a major implementation issue. To approach this, letâ€™s consider a square, 100px by 100px, which has vanilla corner rounding applied for a corner radius of 20px. This means that each side of the squareâ€™s perimeter has 60px of straight track. If we flatten the square into a squashed rectangle so that itâ€™s 80px by 100px, then the straight section of the short side will be only 40px long. What happens when we flatten the square so much that we run out of straight section? Or if we flatten it more, so that the rectangle is, say, 20px by 100px? Figmaâ€™s present behavior is to figure out the largest value of corner rounding we have room to apply and then draw the shape using that instead. Our 20px by 100px rectangle would thus have 10px of rounding applied.</p>
          <div class="css-1gmtsx3">
            <blockquote class="css-1m2040m">
              <p>If smoothing corners with radius R and parameter Î¾ consumes p pixels, then the function p(R,Î¾) must be invertible to Î¾(R,p).</p>
            </blockquote>
          </div>
          <p>Any smoothing process we might use to create a squircle will eat up even more of the straight edge than simple rounding does. Imagine the case above again, a 100px by 100px rectangle, apply 20px of rounding, and then apply some smoothing procedure which removes 12 more pixels from the straight sides. This leaves us with a 36px budget in the straight section for flattening. What happens when flattening the rectangle to 60px by 100px? It seems almost obvious, by analogy, that we should back off the smoothing until the budget is balanced and the straight portion is exactly consumed. But how do we compute the value of Î¾ which satisfies a specific pixel consumption budget? We must be able to do this quickly or we canâ€™t implement the feature.</p>
          <p>Again, this problem has a very precise mathematical articulation: If smoothing corners with radius R and parameter Î¾ consumes p pixels, then the function p(R,Î¾) must be invertible to Î¾(R,p). This is a somewhat hidden constraint which would also have ruled out a high order clothoid series solution.</p>
          <p>Finally, we have a usability constraint, which is that changing the smoothing should actually do something perceptible to the shape. If we yank the smoothing parameter Î¾ back and forth between zero and one, it better make a visible difference! Imagine we did all this work for something that people can barely see&#8202;â€”&#8202;itâ€™s unacceptable. This is fundamentally a requirement of usefulness, and as such itâ€™s obviously the strongest constraint.</p>
          <h2 id="keep-it-simple-squircle" class="css-18dxkbz">
            <a href="#keep-it-simple-squircle" class="css-1bs7qd7">Keep it simple, squircle</a>
          </h2>
          <p>Letâ€™s try the most direct thing we can think of that meets the constraints listed above and just try to pick a single parameterized BÃ©zier curve that takes the circular portion and links it up to the straight side. The figure below shows a type of BÃ©zier curve suitable for this purpose:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/13MkZpNGeuAqKG06EgC6iO/b8b7f1094aa0a0e6624e8af9e0868b69/squircles_20.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/13MkZpNGeuAqKG06EgC6iO/b8b7f1094aa0a0e6624e8af9e0868b69/squircles_20.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/13MkZpNGeuAqKG06EgC6iO/b8b7f1094aa0a0e6624e8af9e0868b69/squircles_20.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/13MkZpNGeuAqKG06EgC6iO/b8b7f1094aa0a0e6624e8af9e0868b69/squircles_20.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/13MkZpNGeuAqKG06EgC6iO/b8b7f1094aa0a0e6624e8af9e0868b69/squircles_20.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/13MkZpNGeuAqKG06EgC6iO/b8b7f1094aa0a0e6624e8af9e0868b69/squircles_20.png?w=736"
              alt="squircles 20"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>11.1&#8202;â€”&#8202;Cubic BÃ©zier control points for the ramp-up part of the squircle</figcaption>
          </figure>
          <p>A few of its properties merit further explanation. First, control points 1, 2 and 3 all fall in a line. This ensures that the curvature at point 1, which connects to the straight part of the squircle, is exactly zero. Generally speaking, if we define a coordinate system and associate point 1 with P1, point 2 with P2, and so on, the curvature at point 1 is given by:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/62KnCjdgSQkkkMI2gYAsku/502fd2e5fbd863c104b72fe01cd35e39/squircles_21.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/62KnCjdgSQkkkMI2gYAsku/502fd2e5fbd863c104b72fe01cd35e39/squircles_21.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/62KnCjdgSQkkkMI2gYAsku/502fd2e5fbd863c104b72fe01cd35e39/squircles_21.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/62KnCjdgSQkkkMI2gYAsku/502fd2e5fbd863c104b72fe01cd35e39/squircles_21.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/62KnCjdgSQkkkMI2gYAsku/502fd2e5fbd863c104b72fe01cd35e39/squircles_21.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/62KnCjdgSQkkkMI2gYAsku/502fd2e5fbd863c104b72fe01cd35e39/squircles_21.png?w=736"
              alt="squircles 21"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>11.2&#8202;â€”&#8202;Unsimplified curvature at point 1 from figure 11.1</figcaption>
          </figure>
          <p>We can see, reassuringly, that the cross product vanishes when points 1â€“3 are collinear. This same formula can be applied to point 4 by labeling in reverse; doing so and plugging in the geometry and the labels in the figure gives the following for the curvature there:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/50j31hJBSwooYkEGsa4wAa/8c4db762b4430334675a4be4cf735816/squircles_22.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/50j31hJBSwooYkEGsa4wAa/8c4db762b4430334675a4be4cf735816/squircles_22.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/50j31hJBSwooYkEGsa4wAa/8c4db762b4430334675a4be4cf735816/squircles_22.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/50j31hJBSwooYkEGsa4wAa/8c4db762b4430334675a4be4cf735816/squircles_22.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/50j31hJBSwooYkEGsa4wAa/8c4db762b4430334675a4be4cf735816/squircles_22.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/50j31hJBSwooYkEGsa4wAa/8c4db762b4430334675a4be4cf735816/squircles_22.png?w=736"
              alt="squircles 22"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>11.3 â€” Simplified curvature at point 4 from figure 11.1</figcaption>
          </figure>
          <p></p>
          <p>Ideally, this would be the same as the curvature of the circular section, or 1/R, which provides us one more constraint. Finally, the values of c and d are fixed by the fact that the end of this curve has to meet the circular portion and be tangent to it where it joins, which means the curvature constraint above just gives us the value of b:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/QzrbyVicSYGeAwGYMWSc4/6c0fb4c6b18295c3ab24c807a100a28f/squircles_23.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/QzrbyVicSYGeAwGYMWSc4/6c0fb4c6b18295c3ab24c807a100a28f/squircles_23.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/QzrbyVicSYGeAwGYMWSc4/6c0fb4c6b18295c3ab24c807a100a28f/squircles_23.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/QzrbyVicSYGeAwGYMWSc4/6c0fb4c6b18295c3ab24c807a100a28f/squircles_23.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/QzrbyVicSYGeAwGYMWSc4/6c0fb4c6b18295c3ab24c807a100a28f/squircles_23.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/QzrbyVicSYGeAwGYMWSc4/6c0fb4c6b18295c3ab24c807a100a28f/squircles_23.png?w=736"
              alt="squircles 23"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>11.4&#8202;â€”&#8202;Solution for b from figure 11.1 which delivers curvature continuity</figcaption>
          </figure>
          <p>If we find it important to preserve the initial linear increase in curvature (which the ideal clothoid solution featured at point 1) we can set a equal to b, which fixes all of the points on the BÃ©zier curve and gives us a potential solution. Using these observations, we construct a simple BÃ©zier squircle below using a smoothing of Î¾ = 0.6:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/4oMML8LkqQKQM4CO0eS8aM/1dac80ef877ff55153c1d8f401153102/squircles_24.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/4oMML8LkqQKQM4CO0eS8aM/1dac80ef877ff55153c1d8f401153102/squircles_24.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/4oMML8LkqQKQM4CO0eS8aM/1dac80ef877ff55153c1d8f401153102/squircles_24.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/4oMML8LkqQKQM4CO0eS8aM/1dac80ef877ff55153c1d8f401153102/squircles_24.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/4oMML8LkqQKQM4CO0eS8aM/1dac80ef877ff55153c1d8f401153102/squircles_24.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/4oMML8LkqQKQM4CO0eS8aM/1dac80ef877ff55153c1d8f401153102/squircles_24.png?w=736"
              alt="squircles 24"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
          </figure>
          <p>This looks pretty good, and it takes a lot of cues from the original clothoid calculation. Unfortunately, the variation over the full range, from Î¾ = 0 to 1 only makes a very subtle difference in the corner shape. Here weâ€™ll show the corner at two zoom levels, with curves for Î¾ = 0.1, 0.3, 0.5, 0.7, and 0.9 shown in different colors:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/1NjeILUHqMIUeke64SsmAi/d3d0be49709a126bb11c302c31bdc53c/squircles_25.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/1NjeILUHqMIUeke64SsmAi/d3d0be49709a126bb11c302c31bdc53c/squircles_25.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/1NjeILUHqMIUeke64SsmAi/d3d0be49709a126bb11c302c31bdc53c/squircles_25.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/1NjeILUHqMIUeke64SsmAi/d3d0be49709a126bb11c302c31bdc53c/squircles_25.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/1NjeILUHqMIUeke64SsmAi/d3d0be49709a126bb11c302c31bdc53c/squircles_25.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/1NjeILUHqMIUeke64SsmAi/d3d0be49709a126bb11c302c31bdc53c/squircles_25.png?w=736"
              alt="squircles 25"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
          </figure>
          <p>This is a barely noticeable effect despite its nice mathematical properties. Itâ€™s certainly closer to being a product than the curve we got by truncating the clothoid series that we considered previously. If we could only tweak the formula a little bit to get some more variation!</p>
          <h2 id="small-strokes-of-sqluck" class="css-18dxkbz">
            <a href="#small-strokes-of-sqluck" class="css-1bs7qd7">Small strokes of sqluck</a>
          </h2>
          <p>We can take one more small step back to figure out how to proceed. Recalling that we need an invertible relationship between pixels consumed in smoothing and the smoothing parameter Î¾, we can focus initially on this mapping, make it as simple as possible, and see what comes out when we try to make a parametrization of squircles from it.</p>
          <p>We know something already about how simply rounding the corners consumes pixels. I wonâ€™t walk through the trigonometry necessary, but taking a corner of opening angle Î¸ and rounding it to have a radius of R pixels will consume q pixels of the edge from the apex of the corner, with q given as follows:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/5FXkw5IpYkmUE0CSca4UMk/f535bb08928bbf6d2dfcab1d4cb58b60/squircles_26.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/5FXkw5IpYkmUE0CSca4UMk/f535bb08928bbf6d2dfcab1d4cb58b60/squircles_26.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/5FXkw5IpYkmUE0CSca4UMk/f535bb08928bbf6d2dfcab1d4cb58b60/squircles_26.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/5FXkw5IpYkmUE0CSca4UMk/f535bb08928bbf6d2dfcab1d4cb58b60/squircles_26.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/5FXkw5IpYkmUE0CSca4UMk/f535bb08928bbf6d2dfcab1d4cb58b60/squircles_26.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/5FXkw5IpYkmUE0CSca4UMk/f535bb08928bbf6d2dfcab1d4cb58b60/squircles_26.png?w=736"
              alt="squircles 26"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>12.1&#8202;â€”&#8202;Segment length consumed by rounding</figcaption>
          </figure>
          <p>What if we choose p(R,Î¾) based on q in just the simplest possible way, something like:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/2FNnzQnknCuaSa8meGIQcK/e333cfe33750d207fab7a9c271c01e1b/squircles_27.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/2FNnzQnknCuaSa8meGIQcK/e333cfe33750d207fab7a9c271c01e1b/squircles_27.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/2FNnzQnknCuaSa8meGIQcK/e333cfe33750d207fab7a9c271c01e1b/squircles_27.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/2FNnzQnknCuaSa8meGIQcK/e333cfe33750d207fab7a9c271c01e1b/squircles_27.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/2FNnzQnknCuaSa8meGIQcK/e333cfe33750d207fab7a9c271c01e1b/squircles_27.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/2FNnzQnknCuaSa8meGIQcK/e333cfe33750d207fab7a9c271c01e1b/squircles_27.png?w=736"
              alt="squircles 27"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>12.2&#8202;â€”&#8202;Segment length consumed by rounding and smoothing</figcaption>
          </figure>
          <p>All this means is that our maximum smoothing setting will consume again the length of segment that we consumed in rounding normally. Making this choice would fix the quantity a + b from the figure above. Recall that in any circumstance c and d are firmly fixed, so fixing a + b means there is one final decision to make: how large is a relative to b? Again, if we make the simplest choice, namely a = b, we have determined another modified BÃ©zier parameterization, whose corners and curvatures we show below:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/38GqVeSfDiAesUYiWo2AIO/0cea25d99eda660ffcf62c4752dc437b/squircles_28.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/38GqVeSfDiAesUYiWo2AIO/0cea25d99eda660ffcf62c4752dc437b/squircles_28.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/38GqVeSfDiAesUYiWo2AIO/0cea25d99eda660ffcf62c4752dc437b/squircles_28.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/38GqVeSfDiAesUYiWo2AIO/0cea25d99eda660ffcf62c4752dc437b/squircles_28.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/38GqVeSfDiAesUYiWo2AIO/0cea25d99eda660ffcf62c4752dc437b/squircles_28.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/38GqVeSfDiAesUYiWo2AIO/0cea25d99eda660ffcf62c4752dc437b/squircles_28.png?w=736"
              alt="squircles 28"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>12.3&#8202;â€”&#8202;Corner shape and curvature profile for simple smoothing scheme</figcaption>
          </figure>
          <p>That visual variation looks promising! The curves look attractive, sanded in a way. However the curvature profile looks pretty rough. If we could just make it a bit less spiky, it might be a serious contender for a product. Despite the poor curvature profile, even this simple family of shapes has a member that looks extremely similar to the Apple version of the squircle, almost close enough to put in front of our users without a bad conscience.</p>
          <p>Now we turn to the curvature profile, our last outstanding problem. Rather than splitting the difference evenly between a and b as we did above, why donâ€™t we give two thirds of the interval to a and the remaining third to b? This will throttle the curvature from increasing too quickly, reducing the long tails on the curvature profile and cutting at the spikes. This modification results in the following shapes:</p>
          <figure class="css-1fy50x0">
            <img
              srcset="//images.ctfassets.net/1khq4uysbvty/587jVI8OrYu2EmmmQsCYQu/bd1ef023035aa25a8db77f706e63ba55/squircles_29.png?w=368 368w, //images.ctfassets.net/1khq4uysbvty/587jVI8OrYu2EmmmQsCYQu/bd1ef023035aa25a8db77f706e63ba55/squircles_29.png?w=491 491w, //images.ctfassets.net/1khq4uysbvty/587jVI8OrYu2EmmmQsCYQu/bd1ef023035aa25a8db77f706e63ba55/squircles_29.png?w=736 736w, //images.ctfassets.net/1khq4uysbvty/587jVI8OrYu2EmmmQsCYQu/bd1ef023035aa25a8db77f706e63ba55/squircles_29.png?w=1104 1104w, //images.ctfassets.net/1khq4uysbvty/587jVI8OrYu2EmmmQsCYQu/bd1ef023035aa25a8db77f706e63ba55/squircles_29.png?w=1472 1472w"
              src="//images.ctfassets.net/1khq4uysbvty/587jVI8OrYu2EmmmQsCYQu/bd1ef023035aa25a8db77f706e63ba55/squircles_29.png?w=736"
              alt="squircles 29"
              sizes="(max-width: 736px) 100vw, 736px"
              class="css-1y33iu"
            />
            <figcaption>12.4&#8202;â€”&#8202;Corner shape and curvature profile for improved simple smoothing scheme</figcaption>
          </figure>
          <p>The curvature profiles are much improved, the visual degree of variation is still enough for this to be a useful product, Î¾ = 0.6 just about nails the iOS shape, and the nice visual character of the curves which this stunningly simple approach generates is retained. So we must ask the question&#8202;â€”&#8202;whatâ€™s blocking this from becoming the product? Nothing.</p>
          <h2 id="watching-the-ship-sail" class="css-18dxkbz">
            <a href="#watching-the-ship-sail" class="css-1bs7qd7">Watching the ship sail</a>
          </h2>
          <p>Itâ€™s useful here, at the end, to reflect on the process itself. Something I see borne out repeatedly in this story is the power and effectiveness of trying the simplest possible thing. Doing so will, in the worst case, give a baseline for comparison if the simplest thing ends up not working out. Evaluating it in a serious way also shines a light on the most important things we need to consider when refining the approach and moving forward. And in the best cases, like ours, the simplest thing happens to be pretty good already!</p>
          <p>Lastly, there is a meditation on the difference between a good product and a perfect one. I feel some pangs of embarrassment writing this that I was unable to come up with a better curvature profile. Iâ€™m sure I could have given more time&#8202;â€”&#8202;there are many avenues left to explore. Intellectually, itâ€™s somewhat unsatisfying to have gotten such a beautiful result as the clothoid series but not to have been able to at least see a reflection of that in the spline we shipped in the end. But thereâ€™s also the wider context&#8202;â€”&#8202;the constraints of time when working at a small company are very real&#8202;â€”&#8202;and a design which violates these cannot be considered good.</p>
        </div>

        <h2>èµ„æ–™å‚è€ƒ</h2>
        <ul>
          <li>
            <a
              href="https://www.johndcook.com/blog/2018/02/13/squircle-curvature/"
              target="_blank"
            >Apple design, squircles, and curvature</a>
          </li>

          <li>
            <a
              href="https://medium.com/@zubryjs/squircles-bringing-ios-7s-solution-to-rounded-rectangles-to-css-9fc35779aa65"
              target="_blank"
            >Squircles: Bringing iOS 7â€™s solution to rounded rectangles to CSS</a>
          </li>

          <li>
            <a
              href="http://iamvdo.me/en/blog/smooth-corners-with-css-houdini"
              target="_blank"
            >Smooth corners with CSS Houdini</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</template>

<script>
import ToolTip from "@/components/ToolTip";
import Toc from "@/components/Toc";
import SnippetComponent from "@/components/SnippetComponent";
import CollapseComponent from "@/components/CollapseComponent";
// import axios from 'axios'

export default {
  name: "article",
  data: function() {
    return {
      articleTitle: '11.[è¯‘ + æ€»ç»“]ä¸é¡¾ä¸€åˆ‡æ‰¾åœ†è§’ â€”â€” Figma å®æ—¶å¹³æ»‘åœ†è§’æ–¹æ¡ˆæ¢ç©¶'
    };
  },
  components: { ToolTip, Toc, SnippetComponent, CollapseComponent },
  methods: {},
  computed: {},
  created: function() {},
  mounted: function() {},
  destroyed: function() {}
};
</script>


<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
caption {
  letter-spacing: 0em;
  font-style: italic;
}
iframe {
  width: 1100px !important;
  transform: translate3d(-165px, 0, 0);
  height: 700px;
  margin: 1em auto !important;
  border: 1px solid rgba(108, 119, 130, 0.1);
  padding: 10px !important;
  overflow: hidden;
}

.center-container img {
  max-width: 100%;
  display: -webkit-box;
  margin: 0 auto;
  width: auto;
}
.small_img {
  width: auto;
  height: auto;
  max-width: 300px;
  display: block;
  margin: 0 auto;
}

.formula_img {
  width: auto;
  height: auto;
  max-width: 100px;
  display: block;
  margin: 0 auto;
}
</style>
